<!doctypehtml><html lang=fr><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Connexion</title><link href=style.css rel=stylesheet><style>main{display:flex;justify-content:center;align-items:center;min-height:80vh;flex-direction:column}.auth-container{max-width:400px;background:#1e1e1e;padding:30px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.7);width:100%;text-align:center}.auth-container h1{color:orange;margin-bottom:25px}.auth-container input{background:#2c2c2c;color:#eee;border:1px solid #444;margin-bottom:15px;transition:border-color .2s}.auth-container input:focus{border-color:#00d0ff}.auth-container button{background:#0078ff;color:#fff;font-weight:700;padding:12px;margin-top:10px}.auth-container button:hover{background:#0059c9;transform:translateY(-1px)}#msg{margin-top:15px;font-weight:700;color:#f44336}</style><header><button onclick='location.href="index.html"'>â¬… Accueil</button></header><main><div class=auth-container><h1>Connexion</h1><form id=form-login><input id=username placeholder="Nom d'utilisateur"required> <input id=password placeholder="Mot de passe"required type=password> <button type=submit>Se connecter</button><p id=msg></form></div></main><script type=module>import{API_URL}from"./script.js";const form=document.getElementById("form-login"),msg=document.getElementById("msg");form.addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("username").value.trim(),n=document.getElementById("password").value;try{const e=await fetch(`${API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})}),o=await e.json();msg.textContent=o.message||"",o.success&&(localStorage.setItem("bect_user",JSON.stringify({username:o.username,role:o.role,token:o.token})),setTimeout((()=>window.location.href="index.html"),500))}catch(e){msg.textContent="Erreur serveur",console.error(e)}}))</script>